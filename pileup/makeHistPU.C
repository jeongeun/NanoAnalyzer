#include <TFile.h>
#include <TH1D.h>
#include <iostream>
#include <vector>

// Pileup MC scenario for Run-2 and Run-3 : https://twiki.cern.ch/twiki/bin/view/CMS/PileupScenariosRun2

// 2016UL : https://github.com/cms-sw/cmssw/blob/master/SimGeneral/MixingModule/python/mix_2016_25ns_UltraLegacy_PoissonOOTPU_cfi.py
// 2017UL : https://github.com/cms-sw/cmssw/blob/master/SimGeneral/MixingModule/python/mix_2017_25ns_UltraLegacy_PoissonOOTPU_cfi.py
// 2018UL : https://github.com/cms-sw/cmssw/blob/master/SimGeneral/MixingModule/python/mix_2018_25ns_UltraLegacy_PoissonOOTPU_cfi.py
// Pileup MC scenario for Run-3 (2016, 2017, and 2018) v12
// 2022,2023 (simplified mix in 124X - 133X) : https://github.com/cms-sw/cmssw/blob/master/SimGeneral/MixingModule/python/mix_Run3_Flat55To75_PoissonOOTPU_cfi.py
// 2023C  : https://github.com/cms-sw/cmssw/blob/master/SimGeneral/MixingModule/python/mix_2023_25ns_EraC_PoissonOOTPU_cfi.py
// 2023D  : https://github.com/cms-sw/cmssw/blob/master/SimGeneral/MixingModule/python/mix_2023_25ns_EraD_PoissonOOTPU_cfi.py
// 2022 (updated in 140X): https://github.com/cms-sw/cmssw/blob/master/SimGeneral/MixingModule/python/mix_2022_25ns_RunIII2022Summer24_PoissonOOTPU_cfi.py
// Ref: https://github.com/cms-egamma/EgammaAnalysis-TnPTreeProducer/blob/Run3_13X/python/pileupConfiguration_cff.py
// How to run? just > root -l makeHistPU.C
void genPUhist(const std::string& outname, const vector<double>& PU_probValues, int nbins = 99, double min = 0, double max = 99) {
    TH1D* hpu = new TH1D("pileup", "Pileup in MC Simulation;Number of interactions per crossing (Pileup);Prob. (Normalized)", nbins, min, max);
    for (int i = 0; i < nbins; i++) {
        hpu->SetBinContent(i + 1, PU_probValues[i]);
    }
    TFile* outFile = new TFile(outname.c_str(), "RECREATE");
    if (!outFile || outFile->IsZombie()) {
        std::cerr << "[ERROR] Failed to create file: " << outname << std::endl;
        delete hpu;
        return;
    }
    hpu->Write();
    outFile->Close();
    delete hpu;
    delete outFile;

    std::cout << "[INFO] Successfully saved pileup histogram to " << outname << std::endl;
}

void makeHistPU() {

    // MC pileup prob distributions (normalized to integral 1)
    // number of Pileup events 0 to 99 (99bins)
    // 2016 : from SimGeneral.MixingModule.mix_2016_25ns_UltraLegacy_PoissonOOTPU_cfi import mix
    vector<double> PU_probValue2016 = {
        1.00402360149e-05, 5.76498797172e-05, 7.37891400294e-05, 0.000110932895295, 0.000158857714773,
        0.000368637432599, 0.000893114107873, 0.00189700774575, 0.00358880167437, 0.00636052573486,
        0.0104173961179, 0.0158122597405, 0.0223785660712, 0.0299186888073, 0.0380275944896,
        0.0454313901624, 0.0511181088317, 0.0547434577348, 0.0567906239028, 0.0577145461461,
        0.0578176902735, 0.0571251566494, 0.0555456541498, 0.053134383488, 0.0501519041462,
        0.0466815838899, 0.0429244592524, 0.0389566776898, 0.0348507152776, 0.0307356862528,
        0.0267712092206, 0.0229720184534, 0.0193388653099, 0.0159602510813, 0.0129310510552,
        0.0102888654183, 0.00798782770975, 0.00606651703058, 0.00447820948367, 0.00321589786478,
        0.0022450422045, 0.00151447388514, 0.000981183695515, 0.000609670479759, 0.000362193408119,
        0.000211572646801, 0.000119152364744, 6.49133515399e-05, 3.57795801581e-05, 1.99043569043e-05,
        1.13639319832e-05, 6.49624103579e-06, 3.96626216416e-06, 2.37910222874e-06, 1.50997403362e-06,
        1.09816650247e-06, 7.31298519122e-07, 6.10398791529e-07, 3.74845774388e-07, 2.65177281359e-07,
        2.01923536742e-07, 1.39347583555e-07, 8.32600052913e-08, 6.04932421298e-08, 6.52536630583e-08,
        5.90574603808e-08, 2.29162474068e-08, 1.97294602668e-08, 1.7731096903e-08, 3.57547932012e-09,
        1.35039815662e-09, 8.50071242076e-09, 5.0279187473e-09, 4.93736669066e-10, 8.13919708923e-10,
        5.62778926097e-09, 5.15140589469e-10, 8.21676746568e-10, 0.0, 1.49166873577e-09,
        8.43517992503e-09, 0.0, 0.0, 0.0, 0.0,
        0.0, 0.0, 0.0, 0.0, 0.0,
        0.0, 0.0, 0.0, 0.0, 0.0,
        0.0, 0.0, 0.0, 0.0
    };

    // 2017 : from SimGeneral.MixingModule.mix_2017_25ns_UltraLegacy_PoissonOOTPU_cfi import *
    vector<double> PU_probValue2017 = {
        1.1840841518e-05, 3.46661037703e-05, 8.98772521472e-05, 7.47400487733e-05, 0.000123005176624,
        0.000156501700614, 0.000154660478659, 0.000177496185603, 0.000324149805611, 0.000737524009713,
        0.00140432980253, 0.00244424508696, 0.00380027898037, 0.00541093042612, 0.00768803501793,
        0.010828224552, 0.0146608623707, 0.01887739113, 0.0228418813823, 0.0264817796874,
        0.0294637401336, 0.0317960986171, 0.0336645950831, 0.0352638818387, 0.036869429333,
        0.0382797316998, 0.039386705577, 0.0398389681346, 0.039646211131, 0.0388392805703,
        0.0374195678161, 0.0355377892706, 0.0333383902828, 0.0308286549265, 0.0282914440969,
        0.0257860718304, 0.02341635055, 0.0213126338243, 0.0195035612803, 0.0181079838989,
        0.0171991315458, 0.0166377598339, 0.0166445341361, 0.0171943735369, 0.0181980997278,
        0.0191339792146, 0.0198518804356, 0.0199714909193, 0.0194616474094, 0.0178626975229,
        0.0153296785464, 0.0126789254325, 0.0100766041988, 0.00773867100481, 0.00592386091874,
        0.00434706240169, 0.00310217013427, 0.00213213401899, 0.0013996000761, 0.000879148859271,
        0.000540866009427, 0.000326115560156, 0.000193965828516, 0.000114607606623, 6.74262828734e-05,
        3.97805301078e-05, 2.19948704638e-05, 9.72007976207e-06, 4.26179259146e-06, 2.80015581327e-06,
        1.14675436465e-06, 2.52452411995e-07, 9.08394910044e-08, 1.14291987912e-08, 0.0,
        0.0, 0.0, 0.0, 0.0, 0.0,
        0.0, 0.0, 0.0, 0.0, 0.0,
        0.0, 0.0, 0.0, 0.0, 0.0,
        0.0, 0.0, 0.0, 0.0, 0.0,
        0.0, 0.0, 0.0, 0.0
    };

    // 2018 : from SimGeneral.MixingModule.mix_2018_25ns_UltraLegacy_PoissonOOTPU_cfi import *
    vector<double> PU_probValue2018 = {
        8.89374611122e-07, 1.1777062868e-05, 3.99725585118e-05, 0.000129888015252, 0.000265224848687,
        0.000313088635109, 0.000353781668514, 0.000508787237162, 0.000873670065767, 0.00147166880932,
        0.00228230649018, 0.00330375581273, 0.00466047608406, 0.00624959203029, 0.00810375867901,
        0.010306521821, 0.0129512453978, 0.0160303925502, 0.0192913204592, 0.0223108613632,
        0.0249798930986, 0.0273973789867, 0.0294402350483, 0.031029854302, 0.0324583524255,
        0.0338264469857, 0.0351267479019, 0.0360320204259, 0.0367489568401, 0.0374133183052,
        0.0380352633799, 0.0386200967002, 0.039124376968, 0.0394201612616, 0.0394673457109,
        0.0391705388069, 0.0384758587461, 0.0372984548399, 0.0356497876549, 0.0334655175178,
        0.030823567063, 0.0278340752408, 0.0246009685048, 0.0212676009273, 0.0180250593982,
        0.0149129830776, 0.0120582333486, 0.00953400069415, 0.00738546929512, 0.00563442079939,
        0.00422052915668, 0.00312446316347, 0.00228717533955, 0.00164064894334, 0.00118425084792,
        0.000847785826565, 0.000603466454784, 0.000419347268964, 0.000291768785963, 0.000199761337863,
        0.000136624574661, 9.46855200945e-05, 6.80243180179e-05, 4.94806013765e-05, 3.53122628249e-05,
        2.556765786e-05, 1.75845711623e-05, 1.23828210848e-05, 9.31669724108e-06, 6.0713272037e-06,
        3.95387384933e-06, 2.02760874107e-06, 1.22535149516e-06, 9.79612472109e-07, 7.61730246474e-07,
        4.2748847738e-07, 2.41170461205e-07, 1.38701083552e-07, 3.37678010922e-08, 0.0,
        0.0, 0.0, 0.0, 0.0, 0.0,
        0.0, 0.0, 0.0, 0.0, 0.0,
        0.0, 0.0, 0.0, 0.0, 0.0,
        0.0, 0.0, 0.0, 0.0
    };

    //2022 simple scenario : from SimGeneral.MixingModule.mix_Run3_Flat55To75_PoissonOOTPU_cfi import * (124X-13X)
    vector<double> PU_probValue2022_flat = {
        0.0, 0.0, 0.0, 0.0, 0.0,
        0.0, 0.0, 0.0, 0.0, 0.0,
        0.0, 0.0, 0.0, 0.0, 0.0,
        0.0, 0.0, 0.0, 0.0, 0.0,
        0.0, 0.0, 0.0, 0.0, 0.0,
        0.0, 0.0, 0.0, 0.0, 0.0,
        0.0, 0.0, 0.0, 0.0, 0.0,
        0.0, 0.0, 0.0, 0.0, 0.0,
        0.0, 0.0, 0.0, 0.0, 0.0,
        0.0, 0.0, 0.0, 0.0, 0.0,
        0.0, 0.0, 0.0, 0.0, 0.0,
        0.047619047619, 0.047619047619, 0.047619047619, 0.047619047619, 0.047619047619,
        0.047619047619, 0.047619047619, 0.047619047619, 0.047619047619, 0.047619047619,
        0.047619047619, 0.047619047619, 0.047619047619, 0.047619047619, 0.047619047619,
        0.047619047619, 0.047619047619, 0.047619047619, 0.047619047619, 0.047619047619,
        0.047619047619,
        0.0, 0.0, 0.0, 0.0, 0.0,
        0.0, 0.0, 0.0, 0.0, 0.0,
        0.0, 0.0, 0.0, 0.0, 0.0,
        0.0, 0.0, 0.0, 0.0, 0.0,
        0.0, 0.0, 0
    };

    //2022 : from SimGeneral.MixingModule.mix_2022_LHC_Simulation_10h_2h_cfi import * (124X-13X)
    vector<double> PU_probValue2022 = {
	7.075550618391933e-8, 1.8432226484975646e-7, 4.6156514471969593e-7, 0.0000011111611991838491, 
	0.0000025719752161798103, 0.000005724865812608344, 0.000012255841383374045, 0.000025239403069596116, 0.00005001054998201597, 
	0.00009536530158990567, 0.00017505633393457624, 0.00030942214916825035, 0.0005268123536229287, 0.0008642843968521786, 
	0.0013669182280399903, 0.0020851167548246985, 0.0030695148409245446, 0.004363635945105083, 0.005995143197404548, 
	0.007967247822222358, 0.010252302872826594, 0.01278957659177177, 0.015488544412469806, 0.01823784978331645, 
	0.020918669702105028, 0.023420019399650906, 0.025652949149203495, 0.027560835627835043, 0.02912397347687914, 
	0.030358091266301533, 0.03130778480604892, 0.03203676872496023, 0.0326170853351521, 0.03311902652393314, 
	0.033602777248239, 0.0341120235754556, 0.03466927947785801, 0.03527261707506484, 0.035893786618889145, 
	0.03647817900850185, 0.036947435730750315, 0.03720550450678737, 0.037148460727673235, 0.03667753703450604, 
	0.03571377296329832, 0.034211859754226276, 0.032170439241889726, 0.029636506070368274, 0.02670262519076345, 
	0.023497154911314072, 0.020169158697337236, 0.016870783471647905, 0.013740289679427057, 0.010888563843704815, 
	0.008390977574442656, 0.006285186751143873, 0.004574246293656772, 0.003233538335807419, 0.002219622271900557, 
	0.0014792038980537092, 0.0009568560481315006, 0.0006007171037926386, 0.00036596934105178995, 0.0002163349104153549, 
	0.00012407362512604619, 0.0000690356949524181, 0.000037263645547231494, 0.00001951170588910065, 0.000009910336118978026, 
	0.0000048826244075428666, 0.0000023333596885075797, 0.0000010816029570543702, 4.863048449289416e-7, 2.1208148308081624e-7, 
	8.97121135679932e-8, 3.6809172420519874e-8, 1.4649459937201982e-8, 5.655267024863598e-9, 2.117664468591336e-9, 
	7.692038404370259e-10, 2.7102837405697987e-10, 9.263749466613295e-11, 3.071624552355945e-11, 9.880298997379985e-12, 
	3.0832214331312204e-12, 9.33436314183754e-13, 2.7417209623761203e-13, 7.813293248960901e-14, 2.1603865264197903e-14, 
	5.796018523167997e-15, 1.5088422256459697e-15, 3.811436255838504e-16, 9.342850737730402e-17, 2.2224464483477953e-17, 
	5.130498608124184e-18, 1.1494216669980747e-18, 2.499227229379666e-19, 5.2741621866055994e-20, 1.080281961755894e-20
    };

    //2023C (preBPIX) : from SimGeneral.MixingModule.mix_2023_25ns_EraC_PoissonOOTPU_cfi import *
    vector<double> PU_probValue2023C = {
        2.38822148706e-05, 4.75152134008e-05, 6.30191527793e-05, 6.68452240771e-05, 8.1025250051e-05,
        9.79468565963e-05, 9.95081424719e-05, 9.33708830231e-05, 9.50909917671e-05, 0.000100651134241,
        0.000103078257098, 0.000111034560318, 0.000122287617571, 0.000133124512985, 0.00014956573019,
        0.000186137627395, 0.000228156756843, 0.000282331058406, 0.000331622711531, 0.000391461449341,
        0.000517949289644, 0.000772840072265, 0.00117177950147, 0.00170218286606, 0.00236820136292,
        0.00313598312592, 0.00408745219886, 0.00527840094237, 0.00673298586987, 0.00828009786211,
        0.00981421228066, 0.0113605372864, 0.0128822615559, 0.0143533259986, 0.0156697830309,
        0.0169254217283, 0.018080221643, 0.0189942713703, 0.0198224792894, 0.0205857576279,
        0.0212350460744, 0.0217526935632, 0.022272803428, 0.0228031352959, 0.0231877786772,
        0.0236794597607, 0.0242098757217, 0.0250255926642, 0.0259084771241, 0.0270883359038,
        0.0283842141201, 0.0296138041433, 0.0312398518545, 0.0328769694128, 0.0343573284679,
        0.0359444082242, 0.0371707283039, 0.0379191373689, 0.0376984798185, 0.0364701631509,
        0.0342333461199, 0.030918081708, 0.02719246186, 0.0234422219723, 0.0199428306976,
        0.0167530883095, 0.0139446903019, 0.0115684641268, 0.0095875821463, 0.00792109671955,
        0.00642645801884, 0.00514147006535, 0.004014647174, 0.00312068891816, 0.00254047982771,
        0.00206998047115, 0.00170256713492, 0.00142457093791, 0.00112986818813, 0.000874387606181,
        0.000666515127689, 0.000479354340271, 0.000316491543232, 0.000182306321277, 9.7983507813e-05,
        5.59397929391e-05, 3.25116880719e-05, 2.05226891643e-05, 1.08317242834e-05, 4.61503191047e-06,
        1.49869506368e-06, 3.4791503138e-07, 1.59930964479e-08, 0.0, 0.0,
        0.0, 0.0, 0.0, 0.0
    };

    //2023D (postBPIX) : from SimGeneral.MixingModule.mix_2023_25ns_EraD_PoissonOOTPU_cfi import *
    vector<double> PU_probValue2023D = {
        0.000158878446531, 3.72079495004e-05, 4.81640545476e-05, 4.57853820338e-05, 4.48623875183e-05,
        5.84446325801e-05, 6.21371953105e-05, 7.03017263882e-05, 8.14053877829e-05, 8.70272731863e-05,
        8.31197017269e-05, 9.10479801679e-05, 0.000157953009035, 0.000116574062554, 0.000129294975462,
        0.000144545642223, 0.000217078041821, 0.000440232973883, 0.000773662434135, 0.00110283621902,
        0.00142257438371, 0.00176809978781, 0.00208600425923, 0.00241950256675, 0.00296346767304,
        0.00376702592516, 0.00484406195225, 0.00613147621346, 0.00769025671271, 0.00948861093862,
        0.0109925387243, 0.0123667087551, 0.013627393454, 0.0146345506473, 0.015512752756,
        0.0165376249303, 0.0175929813666, 0.018477824153, 0.0192112990472, 0.0196645289817,
        0.0201161023712, 0.0206504959528, 0.020879696658, 0.0210625541872, 0.0212334411744,
        0.0213619175725, 0.0217040066936, 0.022158015445, 0.0228131566405, 0.0238090615222,
        0.0245709343881, 0.0255676600477, 0.0269068441176, 0.0282418222377, 0.0301095236733,
        0.0322607862482, 0.0340215193181, 0.0351963407371, 0.0355890314646, 0.0353316943073,
        0.0341387294252, 0.0328144650238, 0.0308479015762, 0.0279916459339, 0.0248514911256,
        0.0219924532015, 0.0191273076414, 0.0162191660774, 0.0134212379857, 0.0108569317827,
        0.00894075906105, 0.00721689444201, 0.00577376618889, 0.0045988410223, 0.00345625399226,
        0.00268987667653, 0.00203585450746, 0.00148498442583, 0.00104550889127, 0.000680880800731,
        0.000378259194695, 0.000208622992464, 0.000137403591797, 9.84678907631e-05, 6.66619364389e-05,
        4.98540448905e-05, 3.6916797972e-05, 2.83299393313e-05, 2.35951729274e-05, 1.47733031993e-05,
        1.30753995144e-05, 1.17148517026e-05, 7.73674081622e-06, 4.60860216753e-06, 3.2973125953e-07,
        1.89267830307e-07, 6.32999965354e-08, 0.0, 0.0
    };

    // 2022 : Updated in End of 2024 (most recent one)
    // from SimGeneral.MixingModule.mix_2022_25ns_RunIII2022Summer24_PoissonOOTPU_cfi import *
    vector<double> PU_probValue2022_24 = {
        2.9176030160424932e-05, 1.7288625535531052e-05, 3.933019047395869e-05, 8.006528496762777e-05, 0.00010638810458620044,
        0.0001290131177865941, 0.00014459978345116554, 0.0001528248895995225, 0.00017086550903127614, 0.00018521637322995298,
        0.00021079677348419945, 0.0002305428715535223, 0.0002498810794180589, 0.00029723779263631737, 0.00042163150787979427,
        0.0006601831218076226, 0.0010236701122784, 0.0015922378148605799, 0.002495658329001577, 0.003817170274048814,
        0.005403665633382568, 0.007107004916298577, 0.009101318814590127, 0.011892609953024784, 0.015480993046661569,
        0.019064446574701067, 0.022084483110726832, 0.024468350943302672, 0.026483608931927916, 0.02818950773817024,
        0.029533759137418507, 0.030422293552258124, 0.031024101455142658, 0.031196692299890482, 0.031193727204654704,
        0.031206593744680353, 0.03135369575881394, 0.03171549377659314, 0.03241539156087351, 0.03379816796763608,
        0.03573977090460996, 0.038505410312916294, 0.041770802624471116, 0.044926005446225915, 0.047329544140210865,
        0.047695419468771455, 0.04628902687265112, 0.04287273404036542, 0.03790635147294555, 0.0318503952150618,
        0.02546370873302361, 0.0193643401458756, 0.014001612145958773, 0.00980999256432052, 0.006778656770468372,
        0.004627624875119607, 0.0031282767631515057, 0.002085591944604796, 0.0013862979404589146, 0.0009512205105473053,
        0.0006422377600319727, 0.00044629717511565517, 0.0003294122761634986, 0.00025462395030180436, 0.00020369647938288862,
        0.00015394992364673615, 0.00011009462583238785, 7.143301627970768e-05, 4.400836590377253e-05, 2.5989037421070252e-05,
        1.5848225264026797e-05, 1.0717981917571277e-05, 7.217049844462219e-06, 4.906493455192585e-06, 2.950849802551177e-06,
        1.8712133795262115e-06, 8.568959666284495e-07, 3.9203111297389647e-07, 4.0788188611364475e-07, 2.9970749894171064e-07,
        1.4460787234697144e-07, 2.7083669792513195e-08, 2.4698219799365332e-08, 7.52482153620921e-08, 5.082351817594903e-08,
        0.0, 0.0, 0.0, 0.0, 0.0,
        0.0, 0.0, 0.0, 0.0, 0.0,
        0.0, 0.0, 0.0, 0.0
    };

    // 2023 : Updated in End of 2024 (most recent one)
    // from SimGeneral.MixingModule.mix_2023_25ns_RunIII2023Summer24_PoissonOOTPU_cfi import *
    vector<double> PU_probValue2023_24 = {
        8.116278344749134e-05, 5.5987969004788374e-05, 6.677898582941577e-05, 7.137503028766281e-05, 9.431933415744541e-05,
        0.0001023845026191297, 9.960846322677061e-05, 0.00010738495275134475, 0.00010979972300512113, 0.00011327541982905317,
        0.00014643418805414227, 0.0001432058638282947, 0.00016234245814776687, 0.00020275708314691687, 0.0002950812457607141,
        0.0004759129304992025, 0.0006747743441107274, 0.0009100053933076372, 0.0012592148574153373, 0.0017383675584680713,
        0.002389205555468726, 0.003270776226583364, 0.004453998536649548, 0.005939678688714035, 0.007787117434534316,
        0.009910586962123618, 0.011961857118914614, 0.013970348243434117, 0.01582537823156475, 0.017540070641917434,
        0.019152870863063727, 0.020723914371610908, 0.021965706072013463, 0.023015666030278468, 0.023893542848212778,
        0.024748076488291797, 0.02538403423449164, 0.02598795618093042, 0.026411981892580757, 0.0270248009703733,
        0.02777775800740078, 0.028775994088665668, 0.03002482287006016, 0.031487967654889065, 0.03309553417219972,
        0.03512324863913352, 0.03721072409275871, 0.03953750395511365, 0.04167021006622745, 0.04290148907576494,
        0.04285019947395152, 0.04147920175787501, 0.0388103252024252, 0.034857491473899986, 0.03022141658748453,
        0.025707741879936, 0.02147792024675864, 0.017638691987518676, 0.014260779172668731, 0.011352880434199124,
        0.008962650048458793, 0.0069264602964894196, 0.00523916662369792, 0.0038960153250320747, 0.0029329254375063452,
        0.0022137927924821945, 0.0016878416507048078, 0.001270029531498029, 0.000852475503220966, 0.0005797890365890959,
        0.00038547177946587365, 0.00023724418104355103, 0.0001245946970750199, 6.764278274045408e-05, 3.9244477235073656e-05,
        2.544429722963923e-05, 1.3642418255344302e-05, 7.821952477586498e-06, 4.89133655752742e-06, 2.454128879581351e-06,
        6.42895936025524e-07, 9.589122608465836e-08, 2.1398618675588528e-08, 0.0, 0.0,
        0.0, 0.0, 0.0, 0.0, 0.0,
        0.0, 0.0, 0.0, 0.0, 0.0,
        0.0, 0.0, 0.0, 0.0
    };

    genPUhist("pileup_2016_UL_MC_99bins.root"     , PU_probValue2016  );
    genPUhist("pileup_2017_UL_MC_99bins.root"     , PU_probValue2017  );
    genPUhist("pileup_2018_UL_MC_99bins.root"     , PU_probValue2018  );
    genPUhist("pileup_2022preEE_MC_99bins.root"   , PU_probValue2022  );
    genPUhist("pileup_2022postEE_MC_99bins.root"  , PU_probValue2022  );
    genPUhist("pileup_2023preBPix_MC_99bins.root" , PU_probValue2023C );
    genPUhist("pileup_2023postBPix_MC_99bins.root", PU_probValue2023D );

} 

